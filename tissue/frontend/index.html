<html>
<head>
    <link rel="stylesheet" href="static/tissue.css" type="text/css">
    <script src="http://cdn.sockjs.org/sockjs-0.3.min.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="static/bubble_chart.js"></script>
    <script src="static/open_ports_chart.js"></script>
    <script src="static/traceroute_chart.js"></script>
    <script src="static/world_map.js"></script>
</head>
<body>
    <script>
        var socket = new SockJS('http://127.0.0.1:8080/sniff');
        console.log('blah');
        var portsChart = new OpenPortsChart(d3.select("body").append("svg"), 500);
        var tracerouteChart = new TracerouteChart(d3.select("body").append("svg"), 500, 500);

        socket.onmessage = function(e) {
            console.log(e);
            console.log(portsChart);
            portsChart.receivedData(e);
            tracerouteChart.receivedData(e);
        };
        d3.select(self.frameElement).style("height", "500px");

    </script>
</body>
</html>
